(this.webpackJsonpdominoes=this.webpackJsonpdominoes||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(41),i=a.n(n),c=(a(50),a(1)),l=a(2),o=a(5),m=a(4),p=a(3),u=a(6),d=a(42),h=a.n(d),b=function(){function e(t){Object(c.a)(this,e),this.host=t,this.socket=null,this.updateGameState=null,this.canStart=null}return Object(l.a)(e,[{key:"registerEvents",value:function(e,t){this.updateGameState=e,this.canStart=t}},{key:"createGame",value:function(e){this._getSocket().emit("createGame",e)}},{key:"startGame",value:function(e){this._getSocket().emit("startGame",e)}},{key:"addPlayer",value:function(e,t){this._getSocket().emit("addPlayer",{username:e,roomId:t})}},{key:"playCard",value:function(e,t,a){this._getSocket().emit("playCard",{roomId:e,card:t,side:a})}},{key:"passTurn",value:function(e){this._getSocket().emit("passTurn",e)}},{key:"_getSocket",value:function(){return this.socket||(this.socket=h()(this.host),this.socket.on("state",this.updateGameState),this.socket.on("start",this.canStart)),this.socket}}]),e}(),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).onClick=a.onClick.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(e){this.props.select?this.props.selectSide(this.props.side):this.props.blunk||this.props.playCard(this.props.left,this.props.right)}},{key:"render",value:function(){var e=this.props.left===this.props.right,t="Left"===this.props.side||"Right"===this.props.side,a="Verticle";if(this.props.board&&!e||!this.props.board&&t){if(a="Horizontal",this.props.board&&this.props.face===this.props.left){var s="";"RIGHT"===this.props.side&&(s="Rightway"),"LEFT"===this.props.side&&(s="Leftway"),a=a+" "+s}if(this.props.board&&this.props.face===this.props.right){var n="";"RIGHT"===this.props.side&&(n="Leftway"),"LEFT"===this.props.side&&(n="Rightway"),a=a+" "+n}}var i=t?"blunk90":"blunk";this.props.blunk||(i=[this.props.left,this.props.right].sort().join("-")),this.props.select&&(a+=" Glow");var c="./faces/"+i+".svg";return r.a.createElement("div",{className:a,onClick:this.onClick},r.a.createElement("img",{alt:i,src:c}))}}]),t}(r.a.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Hand"},r.a.createElement("p",null,this.props.playerData.name),this.props.playerData.cards.map((function(t){return r.a.createElement(f,{key:t.left+""+t.right,playCard:e.props.playCard,left:t.left,right:t.right})})),!0===this.props.playerData.turn?r.a.createElement("div",null,r.a.createElement("p",null,"Your Turn")," ",r.a.createElement("img",{src:"./klop.svg",alt:"klop",className:"klop",onClick:this.props.passTurn})):"")}}]),t}(r.a.Component),v=a(44),E=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.side},r.a.createElement("p",null,this.props.playerData.name),this.props.playerData.turn?r.a.createElement("p",null," Turn "):"",Object(v.a)(Array(this.props.playerData.count)).map((function(t,a){return r.a.createElement(f,{key:a,side:e.props.side,blunk:!0})})))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={data:a.props.data,select:!1},a.currentCard={left:-1,right:-1},a.playCard=a.playCard.bind(Object(p.a)(a)),a.passTurn=a.passTurn.bind(Object(p.a)(a)),a.selectSide=a.selectSide.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"playCard",value:function(e,t,a){this.setState({select:!1}),this.currentCard={left:e,right:t};var s=this.state.data.board.state,r=0===s.length&&this.state.data.players[0].turn;if(r)a="";else{var n=s[0],i=s[s.length-1];n=n.initialCard?n.card.left:n.face,i=i.initialCard?i.card.left:i.face,e===n&&t===i||e===i&&t===n?this.setState({select:!0}):e===n||t===n?a="LEFT":e!==i&&t!==i||(a="RIGHT")}(a||r)&&(this.setState({select:!1}),this.props.client.playCard(this.props.data.id,{left:e,right:t},a))}},{key:"passTurn",value:function(){this.props.client.passTurn(this.props.data.id)}},{key:"selectSide",value:function(e){this.playCard(this.currentCard.left,this.currentCard.right,e)}},{key:"render",value:function(){var e=this,t=!1;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Laaken"},this.state.data.board.state.map((function(a,s){var n=e.state.select&&(0===s||s===e.state.data.board.state.length-1),i="LEFT";return t&&(i="RIGHT"),t=t||a.initialCard,r.a.createElement(f,{key:a.card.left+" "+a.card.right,select:n,side:i,selectSide:e.selectSide,board:!0,left:a.card.left,right:a.card.right,face:a.face})}))),r.a.createElement(y,{playerData:this.state.data.players[0],passTurn:this.passTurn,playCard:this.playCard}),r.a.createElement(E,{playerData:this.state.data.players[1],side:"Right"}),r.a.createElement(E,{playerData:this.state.data.players[2],side:"Upper"}),r.a.createElement(E,{playerData:this.state.data.players[3],side:"Left"}))}}]),t}(r.a.Component),k=(a(82),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={setUsername:a.props.setUsername},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){"Enter"===e.key&&this.state.setUsername(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{className:"logo img-fluid",src:"./logo.png",alt:"logo"}),r.a.createElement("hr",null),r.a.createElement("label",{className:"font-weight-bold mt-5",htmlFor:"username"},"ENTER A USERNAME"),r.a.createElement("input",{type:"text",id:"username",className:"form-control",onKeyDown:this.handleChange,placeholder:"Yaatie"})))}}]),t}(r.a.Component)),S=a(43),O=a.n(S),j=(a(99),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={lobby:[]},a.createLobby=a.createLobby.bind(Object(p.a)(a)),a.addPlayer=a.addPlayer.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.a.get(this.props.session.hostname+"/lobby").then((function(t){e.setState({lobby:t.data.lobby})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",null," ",r.a.createElement("h1",null,"Lobby List:")," "),r.a.createElement("div",{className:"border border-dark"},this.state.lobby.map((function(t){return r.a.createElement("div",{key:t.name,className:"p-3 px-3 ml-3 mr-3"},r.a.createElement("div",{className:"border border-dark row item",onClick:function(a){return e.addPlayer(t.name)}},r.a.createElement("div",{className:"col-6"},r.a.createElement("h2",null,t.name)),r.a.createElement("div",{className:"col-6"},r.a.createElement("span",{className:"float-right"},r.a.createElement("h2",null,"PLAYERS ",t.size,"/4")))))}))),r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement("button",{onClick:this.createLobby},"Create Lobby")))}},{key:"createLobby",value:function(){this.props.client.createGame(this.props.session.username)}},{key:"addPlayer",value:function(e){this.props.client.addPlayer(this.props.session.username,e)}}]),t}(r.a.Component)),N=(a(100),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).startGame=a.startGame.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-10"},r.a.createElement("br",null),r.a.createElement("div",{className:"container border border-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h1",{className:"ml-1"},this.props.gameState.id)),r.a.createElement("div",{className:"col-md-6 align-self-center"},this.props.canStart?r.a.createElement("span",{className:"float-right"},r.a.createElement("button",{onClick:this.startGame}," start ")):""))),r.a.createElement("br",null),r.a.createElement("div",{className:"container border border-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4 text-center"},this.props.gameState.players[2]?this.props.gameState.players[2].name:"Waiting..."),r.a.createElement("div",{className:"col-md-4"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 pt-3 text-right align-self-center"},this.props.gameState.players[3]?this.props.gameState.players[3].name:"Waiting..."),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"tafel",src:"./tafel.png",alt:"table"})),r.a.createElement("div",{className:"col-md-4 text-left align-self-center"},this.props.gameState.players[1]?this.props.gameState.players[1].name:"Waiting...")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4 text-center"},this.props.gameState.players[0].name),r.a.createElement("div",{className:"col-md-4"}))))}},{key:"startGame",value:function(){this.props.client.startGame(this.props.gameState.id)}}]),t}(r.a.Component)),C=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Winner ",this.props.data.players.find((function(e){return e.winner})).name)}}]),t}(r.a.Component),G=(a(101),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).state={canStart:!1,gameState:{gameState:"SIGNUP"},session:{username:"",hostname:"",roomId:""}},e.setUsername=e.setUsername.bind(Object(p.a)(e)),e.updateGameState=e.updateGameState.bind(Object(p.a)(e)),e.canStart=e.canStart.bind(Object(p.a)(e)),e.client=new b(e.state.session.hostname),e.client.registerEvents(e.updateGameState,e.canStart),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateGameState",value:function(e){this.setState({gameState:e})}},{key:"canStart",value:function(e){this.setState({canStart:e})}},{key:"setUsername",value:function(e){var t=this.state.session;t.username=e,this.setState({session:t,gameState:{gameState:"LOBBY"}})}},{key:"render",value:function(){var e=this,t=this.state.gameState.gameState;return r.a.createElement("div",{className:"App"},function(){switch(t){case"PLAYING":return r.a.createElement(g,{data:e.state.gameState,client:e.client});case"SIGNUP":return r.a.createElement(k,{setUsername:e.setUsername});case"LOBBY":return r.a.createElement(j,{client:e.client,session:e.state.session});case"WAITING":return r.a.createElement(N,{client:e.client,canStart:e.state.canStart,gameState:e.state.gameState});case"END":return r.a.createElement(C,{data:e.state.gameState});default:return"Error"}}())}}]),t}(r.a.Component));i.a.render(r.a.createElement(G,null),document.getElementById("root"))},45:function(e,t,a){e.exports=a(102)},50:function(e,t,a){},79:function(e,t){},82:function(e,t,a){},99:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.5458aaac.chunk.js.map